ipex flag is deprecated, will be removed in Accelerate v1.10. From 2.7.0, PyTorch has all needed optimizations for Intel CPU and XPU.
Reading dataset:   0%|          | 0/1 [00:00<?, ?it/s]Reading dataset: 100%|██████████| 1/1 [00:00<00:00,  1.06it/s]Reading dataset: 100%|██████████| 1/1 [00:00<00:00,  1.06it/s]
Generating:   0%|          | 0/50 [00:00<?, ?it/s]Generating:   2%|▏         | 1/50 [00:00<00:41,  1.19it/s]Generating:   4%|▍         | 2/50 [00:01<00:22,  2.14it/s]Generating:   8%|▊         | 4/50 [00:01<00:13,  3.41it/s]Generating:  10%|█         | 5/50 [00:01<00:10,  4.27it/s]Generating:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]Generating:  16%|█▌        | 8/50 [00:02<00:07,  5.35it/s]Generating:  18%|█▊        | 9/50 [00:02<00:06,  5.86it/s]Generating:  20%|██        | 10/50 [00:02<00:08,  4.56it/s]Generating:  24%|██▍       | 12/50 [00:02<00:06,  6.21it/s]Generating:  28%|██▊       | 14/50 [00:02<00:04,  7.64it/s]Generating:  30%|███       | 15/50 [00:03<00:06,  5.44it/s]Generating:  34%|███▍      | 17/50 [00:03<00:04,  6.78it/s]Generating:  36%|███▌      | 18/50 [00:03<00:04,  7.15it/s]Generating:  40%|████      | 20/50 [00:03<00:03,  8.44it/s]Generating:  42%|████▏     | 21/50 [00:03<00:03,  7.33it/s]Generating:  46%|████▌     | 23/50 [00:04<00:03,  8.59it/s]Generating:  50%|█████     | 25/50 [00:04<00:02,  9.59it/s]Generating:  54%|█████▍    | 27/50 [00:04<00:03,  6.94it/s]Generating:  58%|█████▊    | 29/50 [00:04<00:02,  8.02it/s]Generating:  62%|██████▏   | 31/50 [00:05<00:02,  8.88it/s]Generating:  66%|██████▌   | 33/50 [00:05<00:03,  5.25it/s]Generating:  68%|██████▊   | 34/50 [00:06<00:03,  4.63it/s]Generating:  72%|███████▏  | 36/50 [00:06<00:02,  5.51it/s]Generating:  74%|███████▍  | 37/50 [00:06<00:02,  5.28it/s]Generating:  78%|███████▊  | 39/50 [00:06<00:01,  6.57it/s]Generating:  80%|████████  | 40/50 [00:06<00:01,  6.86it/s]Generating:  84%|████████▍ | 42/50 [00:07<00:01,  6.95it/s]Generating:  88%|████████▊ | 44/50 [00:07<00:00,  8.15it/s]Generating:  90%|█████████ | 45/50 [00:07<00:00,  7.71it/s]Generating:  94%|█████████▍| 47/50 [00:07<00:00,  8.89it/s]Generating:  96%|█████████▌| 48/50 [00:07<00:00,  6.33it/s]Generating:  98%|█████████▊| 49/50 [00:08<00:00,  6.03it/s]Generating: 100%|██████████| 50/50 [00:08<00:00,  6.09it/s]
/home/jovyan/conda-envs/feature-extractor/lib/python3.13/site-packages/sentence_transformers/util.py:55: UserWarning: Creating a tensor from a list of numpy.ndarrays is extremely slow. Please consider converting the list to a single numpy.ndarray with numpy.array() before converting to a tensor. (Triggered internally at /pytorch/torch/csrc/utils/tensor_new.cpp:254.)
  a = torch.tensor(a)
/home/jovyan/conda-envs/feature-extractor/lib/python3.13/site-packages/sentence_transformers/util.py:55: UserWarning: Creating a tensor from a list of numpy.ndarrays is extremely slow. Please consider converting the list to a single numpy.ndarray with numpy.array() before converting to a tensor. (Triggered internally at /pytorch/torch/csrc/utils/tensor_new.cpp:254.)
  a = torch.tensor(a)
done
{'parameters': {'binary': 'putty', 'optimization': 0, 'target-optimization': 1, 'platform': 'gcc', 'pool-size': 100, 'examples': 0, 'prompt': 'tokens-2', 'model': 'qwen-emb-0.6'}, 'results': {'mrr': 0.6033295756556512, 'recall_at_1': 0.48, 'recall_at_10': 0.82, 'similarity_mean': {'max': np.float64(0.8553456842899323), 'median': np.float64(0.6348655378818512), 'mean': np.float64(0.6278268015146252), 'min': np.float64(0.4245204940438271)}}, 'invalid-json': 0}
done
[rank0]:[W721 13:51:06.467108698 ProcessGroupNCCL.cpp:1479] Warning: WARNING: destroy_process_group() was not called before program exit, which can leak resources. For more info, please see https://pytorch.org/docs/stable/distributed.html#shutdown (function operator())
